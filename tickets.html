<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Manage Tickets</title>
    <link rel="stylesheet" href="./cssFiles/style.css"/>
</head>

<body onload="requireAuth(); initTicketsPage();">

    <!-- Navbar -->
    <div class="navbar">
        <a href="orgDashboard.html">Dashboard</a>

        <div class="center_navbar">
            <a href="orgDashboard.html" class="title-link"><h1>TickIt</h1></a>
        </div>

        <button onclick="logout()">Logout</button>
    </div>

    <div class="main_body">
    <!-- Page Title -->
    <h2 class="page-title">Ticket Management</h2>

    <!-- Event Details -->
    <div class="event-details-card">
        <h3 id="eventTitle">Loading event...</h3>
        <p id="eventMeta"></p>
    </div>

    <!-- Add Ticket Card -->
    <div class="ticket-card">
        <h3 class="ticket-title">Add Ticket</h3>

        <form id="ticketForm" class="form-layout">
            <select id="seat_select" required>
                <option value="">-- Select Available Seat --</option>
            </select>
            <input type="number" id="seat_price" placeholder="Seat Price" required min="0" step="0.01">
            <small id="seatHelper" class="helper-text"></small>

            <button type="submit" class="primary-btn">Add Ticket</button>
        </form>
    </div>

    <!-- Tickets Table Card -->
    <div class="ticket-card">
        <h3 class="ticket-title">Existing Tickets For This Event</h3>

        <div class="table-wrapper-buy">
            <table id="ticketsTable">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Seat</th>
                        <th>Price</th>
                        <th>Status</th>
                        <th>Update</th>
                        <th>Delete</th>
                    </tr>
                </thead>
                <tbody id="ticketList"></tbody>
            </table>
        </div>
    </div>
    </div>
    <!-- Scripts -->
    <script src="./jsFiles/config.js"></script>
    <script src="./jsFiles/auth.js"></script>
    <script src="./jsFiles/ui.js"></script>
    <script src="./jsFiles/tickets.js"></script>

</body>
</html>
